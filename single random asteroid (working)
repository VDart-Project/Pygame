import random
import pygame
pygame.init()

screen = pygame.display.set_mode((800, 600))
pygame.display.set_caption("V-Dodge")
icon = pygame.image.load('spaceship.png')
pygame.display.set_icon(icon)
background = pygame.image.load('pygame_background.png')


playerImg = pygame.image.load('vdart_logo.png')
playerX = 80
playerY = 220
vel = 10

asteroidImg = []
asteroidX = []
asteroidY = []
asteroidX_change = []
asteroidY_change = []
num_asteroid = 5

for i in range(num_asteroid):
    asteroidImg.append(pygame.image.load('asteroid.png'))
    asteroidX.append(random.randint(650, 750))
    asteroidY.append(random.randint(50, 450))
    asteroidX_change.append(i)
    asteroidY_change.append(i)

# Score
score_value = 0
font = pygame.font.Font('freesansbold.ttf', 32)

textX = 10
testY = 10

# Game Over
over_font = pygame.font.Font('freesansbold.ttf', 64)

def game_over_text():
    over_text = over_font.render("GAME OVER", True, (255, 255, 255))
    screen.blit(over_text, (200, 250))

def player(x, y):
    screen.blit(playerImg, (x, y))

def asteroid(x: object, y: object) -> object:
    screen.blit(asteroidImg[i], (x, y))




running_game = True
while running_game:
    pygame.time.delay(25)
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running_game = False

    keys = pygame.key.get_pressed()
    if keys[pygame.K_UP]:
        playerY -= vel
    if keys[pygame.K_DOWN]:
        playerY += vel

    screen.fill((0, 0, 0))
    screen.blit(background, (0, 0))

    if playerY <= 0:
        playerY = 0
    elif playerY >= 566:
        playerY = 566

    # Movement of Asteroids
    for i in range(num_asteroid):
        asteroidX[i] += asteroidX_change[i]
        asteroidY[i] = asteroidY_change[i]
        if asteroidX[i] > 0:
            asteroidX_change[i] = -15
        elif asteroidX[i] <= 0:
            rnd_x = random.randrange(650, 750)
            rnd_y = random.randrange(40, 400)
            asteroidX_change[i] = rnd_x
            asteroidY_change[i] = rnd_y
        if playerX == asteroidX_change[i] and playerY == asteroidY_change[i]:
                game_over_text()

    #print(playerX, asteroidX_change[i])
    #print(playerY, asteroidY_change[i])
    #collision = (asteroidX[i], asteroidY[i], playerX, playerY)
    #if collision:

    asteroid(asteroidX[i], asteroidY[i])
    #asteroid(asteroidX_change[i], asteroidY_change[i])
    player(playerX, playerY)
    pygame.display.update()
